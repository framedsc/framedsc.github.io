<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>MSADOF - FRAMED. Screenshot Community</title>
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../css/theme_20220814.css" type="text/css" />
    <link rel="stylesheet" href="../../css/theme_colors_20220731.css" type="text/css" />
    <link rel="stylesheet" href="../../css/styles/vs.css">
    <link rel="stylesheet" href="../../css/font-awesome.4.5.0.min.css">
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="../../index.htm"><i class="fa fa-home"></i> FRAMED. Screenshot Community</a>
                <div role="search">
                    <form id="search-form" class="form" action="../../Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="../../index.htm">Home</a>
</li>

<li class="tocentry"><a href="../../basics.htm">The Basics</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Gameguides.htm">Game guides</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../GeneralGuides/index.htm">General guides</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../ReshadeGuides/index.htm">Reshade guides</a></span></li>

<li class="tocentry"><a href="../../ReshadeGuides/setupreshade.htm">Setting up reshade</a>
</li>
<li class="tocentry"><a href="../../ReshadeGuides/shaderscatalogue.htm">Shaders Catalogue</a>
</li>
<li class="tocentry"><a href="../../ReshadeGuides/lutgenguide.htm">LUT Generation</a>
</li>
<li class="tocentry"><a href="../../ReshadeGuides/reshadeuwp.htm">Injecting ReShade in UWP games</a>
</li>
<li class="tocentry"><a href="../../ReshadeGuides/depthguide.htm">Exporting Depth Buffers with Reshade</a>
</li>
<li class="tocentry"><a href="../../ReshadeGuides/RealLongExposure.htm">Using RLE to hide temporal issues</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../ReshadeGuidesShaderguides.htm">Shader guides</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../ReshadeGuidesAddonguides.htm">Addon guides</a></span></li>
<li class="tocentry"><a href="../../ReshadeGuides/Addons/shader_toggler_repository.htm">Shader Toggler Repository</a>
</li>
<li class="tocentry current"><a class="current" href="../../ReshadeGuides/Addons/MSADOF.htm">MSADOF</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#advantages">Advantages</a></li>

<li class="tocentry"><a href="#installation--initial-setup">Installation &amp; initial setup</a></li>

<li class="tocentry"><a href="#list-of-preconfigured-values">List of preconfigured values</a></li>

<li class="tocentry"><a href="#usage">Usage</a></li>

<li class="tocentry"><a href="#photography-mode">Photography Mode</a></li>

<li class="tocentry"><a href="#tweaking-mode">Tweaking Mode</a></li>

<li class="tocentry"><a href="#adjusting-for-a-new-game">Adjusting for a new game</a></li>

<li class="tocentry"><a href="#tips--tricks">Tips &amp; Tricks</a></li>

<li class="tocentry"><a href="#processing-saved-exrs">Processing saved EXRs</a></li>

</ul>

</ul>
</li>
</ul>
</li>
<li class="tocentry"><a href="../../cheattablearchive.htm">Cheat Table Archive</a>
</li>
<li class="tocentry"><a href="../../contribute.htm">Contribute to the site!</a>
</li>
</ul>
				<br/>
				<ul>
					<li class="tocentry">
						<ul>
							<li>
								<span class="navigationgroup">Galleries</span>
							</li>
							<li class="tocentry">
								<a href="/HallOfFramed/" target="_blank">Hall of Framed</a>
							</li>
						</ul>
					</li>
				</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="../../index.htm">FRAMED. Screenshot Community</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="../../index.htm">Home</a></li> / <li><a href="../../ReshadeGuides/index.htm">Reshade guides</a></li> / <li><a href="../../ReshadeGuidesAddonguides.htm">Addon guides</a></li> / <li><a href="../../ReshadeGuides/Addons/MSADOF.htm">MSADOF</a></li></ul>
					
                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<p><img src="../../Images/MSADOF/MSADOF_header.png" alt="MSADOF" class="shadowed autosize" width="896" height="180" /></p>
<p><strong>Multi-sampled Accumulated Depth of Field</strong> (<strong>MSADOF</strong>) is an advanced DOF add-on for ReShade developed by murchalloo. It renders depth of field without using a depth buffer for the blurring process, greatly increasing the possibilities of defocused captures. This is an advanced guide that aims to cover the usage of MSADOF, as well as its setup process for you and other users.</p>
<div class="alert alert-warning"><span class="alert-title"><i class="fa fa-warning"></i> Important!</span><p>MSADOF requires <strong>ReShade 5.2+ with full add-on support</strong> and supported <a href="https://patreon.com/Otis_Inf" target="_blank">Otis_Inf camera tools</a>. <em>All cameras newer than the 31st of May 2022 should have support for MSADOF, look for &quot;Supports IGCS Connector&quot; in the &quot;Versions and compatibility&quot; table of each <a href="https://opm.fransbouma.com/Gamespecificfunctionality.htm" target="_blank">game</a>.</em></p>
</div><div class="alert alert-neutral"><span class="alert-title"><i class="fa fa-info-circle"></i> Info</span><p>The add-on is currently in closed beta and is unavailable for public download.</p>
</div><hr />
<h2 id="advantages">Advantages<a class="headerlink" href="#advantages" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>MSADOF works by manipulating the game camera around a certain plane in space and progressively blending the result to produce a defocused image that's depth-accurate. This results in:</p>
<div class="slider container" style="aspect-ratio: 43/18">
  <div class="slider__img slider__img-after">
    <p>MSADOF</p>
    <img src="../../Images/MSADOF/comp_nearplane_MSADOF.jpg" />
  </div>
  <div class="slider__img slider__img-before">
    <p>Traditional depth-based DOF</p>
    <img src="../../Images/MSADOF/comp_nearplane_CineDOF.jpg" />
  </div>
  <input type="range" min="0" max="100" value="50" step="0.01" 
    id="slider" class="slider__input" 
    autocomplete="off" onwheel="this.blur()" 
  />
</div>
<div class="figure"><p>Accurate near-plane bleed.</p></div>
<div class="slider container" style="aspect-ratio: 43/18">
  <div class="slider__img slider__img-after">
    <p>MSADOF</p>
    <img src="../../Images/MSADOF/comp_hair_MSADOF.jpg" />
  </div>
  <div class="slider__img slider__img-before">
    <p>Traditional depth-based DOF</p>
    <img src="../../Images/MSADOF/comp_hair_CineDOF.jpg" />
  </div>
  <input type="range" min="0" max="100" value="50" step="0.01" 
    id="slider" class="slider__input" 
    autocomplete="off" onwheel="this.blur()" 
  />
</div>
<div class="figure"><p>Alpha hair in DOF!</p></div>
<div class="slider container" style="aspect-ratio: 43/18">
  <div class="slider__img slider__img-after">
    <p>MSADOF</p>
    <img src="../../Images/MSADOF/comp_pfx_MSADOF.jpg" />
  </div>
  <div class="slider__img slider__img-before">
    <p>Traditional depth-based DOF</p>
    <img src="../../Images/MSADOF/comp_pfx_CineDOF.jpg" />
  </div>
  <input type="range" min="0" max="100" value="50" step="0.01" 
    id="slider" class="slider__input" 
    autocomplete="off" onwheel="this.blur()" 
  />
</div>
<div class="figure"><p>Particle & alpha effects in DOF.</p></div>
<div class="slider container" style="aspect-ratio: 43/18">
  <div class="slider__img slider__img-after">
    <p>MSADOF</p>
    <img src="../../Images/MSADOF/comp_refl_MSADOF.jpg" />
  </div>
  <div class="slider__img slider__img-before">
    <p>Traditional depth-based DOF</p>
    <img src="../../Images/MSADOF/comp_refl_CineDOF.jpg" />
  </div>
  <input type="range" min="0" max="100" value="50" step="0.01" 
    id="slider" class="slider__input" 
    autocomplete="off" onwheel="this.blur()" 
  />
</div>
<div class="figure"><p>Depth-accurate reflections.</p></div>
<div class="slider container" style="aspect-ratio: 43/18">
  <div class="slider__img slider__img-after">
    <p>MSADOF</p>
    <img src="../../Images/MSADOF/comp_trefl_MSADOF.jpg" />
  </div>
  <div class="slider__img slider__img-before">
    <p>Traditional depth-based DOF</p>
    <img src="../../Images/MSADOF/comp_trefl_CineDOF.jpg" />
  </div>
  <input type="range" min="0" max="100" value="50" step="0.01" 
    id="slider" class="slider__input" 
    autocomplete="off" onwheel="this.blur()" 
  />
</div>
<div class="figure"><p>Layered defocusing of transparent and translucent materials.</p></div>
<hr />
<h2 id="installation--initial-setup">Installation &amp; initial setup<a class="headerlink" href="#installation--initial-setup" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>MSADOF comprises of two files, <code>IgcsConnector.addon</code> and <code>MSADOF.fx</code>. The first of which is a ReShade add-on, and the second a ReShade shader. The ADDON file is installed in the same directory as your game EXE, while the FX file is installed to your <code>reshade-shaders\Shaders</code> folder.</p>
<p>Once installed, upon opening the ReShade GUI, you will now see a new window. This is where you will control the bulk of MSADOF. You must also enable <code>MSADOF_ADDON</code> and drag it all the way to the bottom of your shaders list. Depth buffer access is necessary for the full functionality of the add-on.</p>
<p>For the add-on to function as intended, it's typically necessary to enable vsync in your game. This ensures a more consistent frame pacing for better results. Motion blur should also be disabled.</p>
<hr />
<h2 id="list-of-preconfigured-values">List of preconfigured values<a class="headerlink" href="#list-of-preconfigured-values" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>As setting MSADOF up from scratch can be tricky, this is a compilation of known MSADOF values for games that have been tested. With the GUI open, click on <strong>Switch Mode</strong> to switch from <code>Photography Mode</code> to <code>Tweaking Mode</code>. Scroll down and expand <strong>Game Adjustments</strong> to add these values. You may also have to change some values in <strong>DOF Settings</strong>.</p>
<p><details><summary class=important>View list</summary></p>
<div class="alert alert-info"><span class="alert-title"><i class="fa fa-info-circle"></i> Info</span><p>The <em>Frames to skip</em> parameter is dependent on your own hardware and the current performance of the game. Do tweak the value if you notice that the image isn't sharp or if there are <a href="#calibrating-the-focus-plane">visible rings</a> forming.</p>
</div><table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Game</th>
	<th>Near Plane</th>
	<th>FOV</th>
	<th>Variable</br>Near Plane</th>
	<th>Frames</br>to skip</th>
	<th>Camera</br>Multiplier</th>
	<th>Flip X/Y</th>
	<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
	<td>Ace Combat 7: Skies Unknown</td>
	<td>1.0000</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Aliens: Fireteam Elite</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Assassin's Creed Odyssey</td>
	<td>0.0995</td>
	<td>180</td>
	<td>✖</td>
	<td>2</td>
	<td>0.001</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Assassin's Creed Origins</td>
	<td>0.0995</td>
	<td>180</td>
	<td>✖</td>
	<td>2</td>
	<td>0.001</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Assassin's Creed Valhalla</td>
	<td>0.0995</td>
	<td>180</td>
	<td>✖</td>
	<td>2</td>
	<td>0.001</td>
	<td>X</td>
	<td>TAA can only be disabled via <a href="https://www.pcgamingwiki.com/wiki/Assassin%27s_Creed_Valhalla#Anti-aliasing_.28AA.29" target="_blank">HxD</a>.</td>
</tr>
<tr>
	<td>Batman: Arkham Knight</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Beyond a Steel Sky</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Borderlands 3</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Blind Fate: Edo no Yami</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Chernobylite</td>
	<td>1.0000</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>CHORVS</td>
	<td>56.500</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Close to the Sun</td>
	<td>1.0000</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.001</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Code Vein</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Cyberpunk 2077</td>
	<td>0.0200</td>
	<td>180</td>
	<td>✖</td>
	<td>4</td>
	<td>0.001</td>
	<td>X</td>
	<td>Might require raytracing / a low framerate under vsync targets. Focus precision of 8+ is recommended for portraits.</td>
</tr>
<tr>
	<td>Days Gone</td>
	<td>9.9500</td>
	<td>320</td>
	<td>✖</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td>Setting AA to 0 will result in a loss of HUD and console access.</td>
</tr>
<tr>
	<td>Draugen</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>ECHO</td>
	<td>0.5600</td>
	<td>180</td>
	<td>✖</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td>No custom AR possible.</td>
</tr>
<tr>
	<td>Elden Ring</td>
	<td>0.0500</td>
	<td>180</td>
	<td>✖</td>
	<td>2</td>
	<td>0.001</td>
	<td>X</td>
	<td>Camera multiplier can change from area to area. <strong>In-game antialiasing can cause blurry results</strong>.</td>
</tr>
<tr>
	<td>Final Fantasy VII Remake Intergrade</td>
	<td>5.6250</td>
	<td>180</td>
	<td>✖</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Hellblade: Senua's Sacrifice</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Kena: Bridge of Spirits</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>4</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Life is Strange: True Colors</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Mortal Shell</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>4</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>MotoGP 19</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Observer: System Redux</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>3</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Omno</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Resident Evil 2	(DX12)</td>
	<td>0.0100</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.001</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Resident Evil 3	(DX12)</td>
	<td>0.0100</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.001</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>SCARLET NEXUS</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Sifu</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Star Wars Jedi: Fallen Order</td>
	<td>9.9995</td>
	<td>180</td>
	<td>✖</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Stray</td>
	<td>0.5625</td>
	<td>180</td>
	<td>✖</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Tales of Arise</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Tell Me Why</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>The Ascent</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>The Medium</td>
	<td>2.0000</td>
	<td>180</td>
	<td>✔</td>
	<td>3</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>The Pathless</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>The Shore</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>The Sojourn</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>1</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>The Witcher 3: Wild Hunt</td>
	<td>0.2000</td>
	<td>180</td>
	<td>✖</td>
	<td>0</td>
	<td>0.001</td>
	<td>X</td>
	<td>Near plane may switch to 0.4 in cutscenes.</td>
	<td></td>
</tr>
<tr>
	<td>Twin Mirror</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Vampire: The Masquerade - Swansong</td>
	<td>1.0000</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
<tr>
	<td>Visage</td>
	<td>9.9965</td>
	<td>180</td>
	<td>✔</td>
	<td>2</td>
	<td>0.100</td>
	<td>X</td>
	<td></td>
</tr>
</tbody>
</table>
<p><em>Have some game adjustments values that you want to include? Head up to the <a href="https://github.com/framedsc/Sitesource/issues" target="_blank">issue site page</a> and create an issue with the values, or <a href="https://framedsc.com/index.htm" target="_blank">contact one of the mods</a>.</em>
</details></p>
<p>If you have to setup &amp; adjust for a new game, follow the <a href="#adjusting-for-a-new-game">advanced setup section</a> further below.</p>
<hr />
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>The add-on has two modes, <code>Photography Mode</code> and <code>Tweaking Mode</code>. <code>Photography Mode</code> offers a simple UI for controlling all the necessary values once the add-on is configured, while <code>Tweaking Mode</code> is a more advanced set of controls for configuration and tweaking.</p>
<p>Once the add-on is set up, press <code>Ctrl+B</code> to begin the render. The final image is automatically saved to the same folder where your game EXE is located.</p>
<p>The add-on also supports hotsampling! Simply start the render after hotsampling.</p>
<hr />
<h2 id="photography-mode">Photography Mode<a class="headerlink" href="#photography-mode" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>This is the mode for controlling the add-on in a simplified manner. The controls are similar to that of a real camera. Values set in <code>Tweaking Mode</code> override those set in this mode.</p>
<h3 id="cameralens-settings">Camera/Lens Settings<a class="headerlink" href="#cameralens-settings" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p><img src="../../Images/MSADOF/MSADOF_Addon_Settings_CameraLens.png" alt="Screenshot of the Camera/Lens UI" class="shadowed autosize" width="500" height="342" /></p>
<p><strong>Focal Length</strong><br />
The add-on translates the FOV it receives from the camera tool to focal length in mm. Useful for approximating real life focal lengths.</p>
<p><strong>Aperture Size</strong><br />
A readout of how large the bokeh size will be. Translates to <em>Shape size</em> in <code>Tweaking Mode</code>.</p>
<p><strong>Sensor Size</strong><br />
This is a dropdown list of sensor sizes for the add-on to simulate. Acts as a 'multiplier' to aperture size, picking a smaller sensor with a higher crop factor (CF value) makes bokeh circles smaller and vice versa. </p>
<p><img src="../../Images/MSADOF/MSADOF_Addon_Sensor-Size-01.jpg" alt="Sensor Sizes" class="shadowed autosize" width="1680" height="700" /></p>
<p><strong>Aspect Ratio</strong><br />
This is a dropdown list of some common filmic aspect ratios. These affect the shape of your bokeh circles. Useful for quickly switching from spherical bokeh to anamorphic oval bokeh.</p>
<p><img src="../../Images/MSADOF/MSADOF_Addon_Aspect-Ratio-01.jpg" alt="Aspect Ratio" class="shadowed autosize" width="1680" height="700" /></p>
<p><strong>f-Number</strong><br />
This sets the aperture size. A smaller f-Number means larger bokeh.</p>
<p><strong>Focus distance</strong><br />
This sets the focal plane. The arrows on the right change the step size of the slider.</p>
<p><strong>Blur Quality</strong><br />
This sets how many samples are taken by the add-on, drastically affecting render times. Increase it if you notice undersampling (each point is clearly visible), decrease it if render times are taking too long. Translates to <em>Number of rings</em> in <code>Tweaking Mode</code>.</p>
<p><strong>Lens Imperfections</strong><br />
Toggles for some lens imperfections. Fringing introduces a bright ring around bokeh circles and its properties can be adjusted in <code>Tweaking Mode</code>.</p>
<div class="slider container" style="aspect-ratio: 43/18">
  <div class="slider__img slider__img-after">
    <p>Scale: 0.6</br>Power: 6.0</p>
    <img src="../../Images/MSADOF/comp_fringingOn.jpg" />
  </div>
  <div class="slider__img slider__img-before">
    <p>No fringing</p>
    <img src="../../Images/MSADOF/comp_fringingOff.jpg" />
  </div>
  <input type="range" min="0" max="100" value="50" step="0.01" 
    id="slider" class="slider__input" 
    autocomplete="off" onwheel="this.blur()" 
  />
</div>
<div class="figure"><p>Note the slight difference in brightness. This is due to the fringing process brightening the last few accumulations to produce the effect.</p></div>  
<h3 id="helpers-settings">Helpers Settings<a class="headerlink" href="#helpers-settings" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p><strong>Show focus plane</strong><br />
Overlays a plane on screen. Where the plane cuts the scene is where the focus distance is set.</p>
<p><strong>Show rendering progress</strong><br />
Displays a progress bar.</p>
<hr />
<h2 id="tweaking-mode">Tweaking Mode<a class="headerlink" href="#tweaking-mode" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>This is the mode for controlling the add-on in an advanced manner. </p>
<h3 id="dof-settings">DOF Settings<a class="headerlink" href="#dof-settings" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p><img src="../../Images/MSADOF/MSADOF_Addon_Settings_DOF.png" alt="Screenshot of the DOF UI" class="shadowed autosize" width="500" height="234" /></p>
<p><strong>Shape size</strong><br />
This controls how large your bokeh will be. </p>
<p><strong>Focus distance</strong><br />
This sets the focal plane. The arrows on the right change the step size of the slider.</p>
<p><strong>Increase focus precise at close range</strong><br />
This changes the scaling of the focus distance slider. Higher values mean that the focus distance slider can operate in even smaller steps. This is useful for portraits, where extra focus precision is desired.</p>
<p><strong>HDR Log Whitepoint</strong><br />
Affects how bright pixels stack atop each other during the accumulation process. The default value of 2.0 provides the most natural highlighting.</p>
<p><img src="../../Images/MSADOF/MSADOF_Addon_Whitepoint-01.jpg" alt="HDR Log Whitepoint" class="shadowed autosize" width="1680" height="700" /></p>
<p><strong>Frames to skip</strong><br />
Skips camera movement of every few frames to make accumulation more consistent. Depending on the performance of your game, this value might have to be changed. If you notice that the add-on is drawing rings/donuts on your focus plane, this value likely has to be changed.</p>
<p><strong>Frames to wait</strong><br />
Similar to above, this value should only be changed if you notice that the focus plane isn't properly sharp.</p>
<p><strong>Show focus plane</strong><br />
Overlays a plane on screen. Where the plane cuts the scene is where the focus distance is set.</p>
<p><strong>Show rendering progress</strong><br />
Displays a progress bar.</p>
<p><strong>Save 32-bit EXR</strong><br />
As the accumulation process can introduce banding, this option stacks the accumulated frames into a higher-precision buffer. This buffer is saved into a high bit-depth (32-bit) EXR, which is able to store 65536x more colours than the standard BMP. This results in much smoother gradients with zero banding, and comes with the added benefit of having much more colour data for colour grading in post. The saved EXR requires <a href="#processing-saved-exrs">further post-processing</a> to produce the intended result.</p>
<div class="slider container" style="aspect-ratio: 43/15">
  <div class="slider__img slider__img-after">
    <p>Processed EXR</p>
    <img src="../../Images/MSADOF/comp_capture-EXR.png" />
  </div>
  <div class="slider__img slider__img-before">
    <p>BMP capture</p>
    <img src="../../Images/MSADOF/comp_capture-BMP.png" />
  </div>
  <input type="range" min="0" max="100" value="50" step="0.01" 
    id="slider" class="slider__input" 
    autocomplete="off" onwheel="this.blur()" 
  />
</div>
<div class="figure"><p>Note that <b>exposure has been pushed by 3 stops</b> to highlight banding as well as show how much these 32-bit EXRs can be edited.</p></div>  
<h3 id="shape-settings">Shape settings<a class="headerlink" href="#shape-settings" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p><img src="../../Images/MSADOF/MSADOF_Addon_Settings_ShapeSettings.png" alt="Screenshot of the Shape UI" class="shadowed autosize" width="500" height="611" /></p>
<p>These controls configure the shape of the bokeh circles. A preview of the shape can be seen in the UI.</p>
<p><strong>Preview size</strong><br />
Changes the scale of each point only in the preview window above it.</p>
<p><strong>Number of rings</strong><br />
Changes the number of rings in each bokeh circle. This value affects render time. Increase it if you notice undersampling (each point is clearly visible), decrease it if render times are taking too long.</p>
<p><strong>Points on first ring</strong><br />
This sets the density of the points on each ring. Similarly, this affects render time.</p>
<p><strong>Anamorphic scale</strong><br />
Stretches/squashes the bokeh circle. Useful for replicating oval bokeh characteristic of anamorphic lenses.</p>
<p><strong>Offset value / Offset type</strong><br />
Affects the alignment of every point relative to the previous ring. Tweak if there's an obvious pattern forming in your bokeh.</p>
<p><strong>Swirl scale</strong><br />
Introduces swirl to bokeh, useful for Helios-style swirly bokeh.<br />
<em>This feature is not currently working as intended.</em></p>
<p><strong>Fringing scale</strong><br />
Modifies how much the outer rings are brightened to introduce fringing to the bokeh.</p>
<p><strong>Fringing power</strong><br />
Modifies the falloff of the darkening to sharpen the fringing.</p>
<h3 id="additional-info">Additional info<a class="headerlink" href="#additional-info" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p><img src="../../Images/MSADOF/MSADOF_Addon_Settings_AddInfo.png" alt="Screenshot of the Additional Info UI" class="shadowed autosize" width="500" height="129" /></p>
<p>This category displays useful as well as debug information. </p>
<h3 id="game-adjustments">Game Adjustments<a class="headerlink" href="#game-adjustments" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>This category is to be left alone, as it is for first time configuration of a new game. See the section directly below on how to tweak it.</p>
<hr />
<h2 id="adjusting-for-a-new-game">Adjusting for a new game<a class="headerlink" href="#adjusting-for-a-new-game" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p><img src="../../Images/MSADOF/MSADOF_Addon_Settings_GameAdjustments.png" alt="Screenshot of the Game Adjustments UI" class="shadowed autosize" width="500" height="160" /></p>
<p>If you're playing a game that does not have known values yet or the values produce wrong results on your end, this is the process of setting up the <em>Game Adjustments</em> tab.</p>
<h4 id="checking-x-and-y">1. Checking X and Y<a class="headerlink" href="#checking-x-and-y" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h4>
<p>Before adjusting anything, do a quick render to judge the shape of the bokeh. You may have to adjust <em>Camera movement multiplier</em> and/or bring up <em>Focus distance</em> if the shape size is too dramatic, nothing seems to be happening, or you get a kaleidoscope effect.</p>
<p>If the shape of the rendered bokeh is not perfectly circular, the <strong>Flip X</strong> and <strong>Flip Y</strong> checkboxes have to be configured. Mess around with them until the rendered result is circular.</p>
<h4 id="max-fov-value">2. Max FOV Value<a class="headerlink" href="#max-fov-value" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h4>
<p>Set your game to run in a 1:1 aspect ratio. Switch the add-on UI to <code>Tweaking Mode</code> and expand <em>Additional info</em>, keeping your eye on FOV. With the tool's free camera active, zoom out until the image flips. Note the FOV value at which this occurs, that will be the <strong>Max FOV Value</strong>.</p>
<div class="alert alert-neutral"><span class="alert-title"><i class="fa fa-info-circle"></i> Info</span><p>This value can typically be left at 180 for the majority of games.</p>
</div><h4 id="calibrating-the-focus-plane">3. Calibrating the focus plane<a class="headerlink" href="#calibrating-the-focus-plane" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h4>
<p>This step requires quite a bit of trial &amp; error, as it involves messing with <em>Focus distance</em> until the focus plane is found. A high amount of blur (large <em>Shape size</em> / <em>Camera movement multiplier</em>) is recommended to help pinpoint the focus point.</p>
<p>If you're struggling to find an area in focus and the results are consistently blurry, you might have to configure <em>Frames to skip</em>. The add-on drawing rings/donuts is usually a tell-tale sign of this.</p>
<p><img src="../../Images/MSADOF/ringing.png" alt="ringing example" class="shadowed autosize" width="237" height="244" /></p>
<p>Once you've managed to find the focus plane, adjust <strong>Camera near plane</strong> with <em>Show focus plane</em> ticked until the focus helper plane aligns with the actual focus plane. </p>
<div class="alert alert-tip"><span class="alert-title"><i class="fa fa-info-circle"></i> Tip</span><p>Motion blur (and some TAA implementations) can interfere with this part, causing your results to be blurry no matter what. Be sure to disable them if you're still having trouble.</p>
</div><h4 id="variable-near-plane">4. Variable Near Plane<a class="headerlink" href="#variable-near-plane" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h4>
<p>This checkbox should be ticked if the focus helper no longer aligns with the focus distance when the aspect ratio is changed. </p>
<h4 id="done">Done!<a class="headerlink" href="#done" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h4>
<p>This process acts as calibration of the focus helper plane to the actual focus plane, so it can be used to help you set a focus point.</p>
<h3 id="video-example">Video Example<a class="headerlink" href="#video-example" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<div class="figure">
<a href="https://youtu.be/63B-9VJBut0" target="_blank"><img src="https://i.ytimg.com/vi_webp/63B-9VJBut0/maxresdefault.webp" alt="MSADOF example video" style="aspect-ratio:43/18; object-fit:cover; width:100%" /></a>
<p>Does not cover <i>Max FOV Value</i> or <i>Variable near plane</i>.</p>
</div>
<hr />
<h2 id="tips--tricks">Tips &amp; Tricks<a class="headerlink" href="#tips--tricks" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<h3 id="best-case-scenario">Best-case scenario<a class="headerlink" href="#best-case-scenario" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>To get the best possible result out of this add-on, it's best to find a game that can perfectly timestop with no significant jitter, foliage sway, or anything that could interrupt the render. </p>
<p>Raytracing / specular highlight noise is often the cause of 'dirty' bokeh circles.</p>
<h3 id="preview-bokeh-size">Preview bokeh size<a class="headerlink" href="#preview-bokeh-size" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>You can perform a quick preview of how large your bokeh shape size will be by doing a render with a very low <em>Number of rings</em> or at a lower resolution.</p>
<h3 id="undersampling">Undersampling<a class="headerlink" href="#undersampling" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>A DOF shader can be used as a blurring pass before rendering to help and smooth out undersampling artifacts. Simply align the DOF shader's focus point to that of the add-on's and make the DOF strength very subtle. <strong>Do not</strong> use autofocus here, as the autofocus point will slip due to the camera movements.</p>
<h3 id="antialiasing--image-sharpness">Antialiasing &amp; image sharpness<a class="headerlink" href="#antialiasing--image-sharpness" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>The camera-based nature of the shader means it does its own antialiasing! AA can be entirely disabled in your game to get a sharper image. </p>
<p>In titles where TAA is integral to shading (<em>Cyberpunk 2077</em> and its hair, for example), it can be left enabled at the cost of a slightly softer image. </p>
<p>It is <strong>not</strong> recommended to have a sharpening pass prior to the render. Sharpening halos may become exaggerated and/or show up in the accumulation process.</p>
<h3 id="have-fun-with-shaders">Have fun with shaders!<a class="headerlink" href="#have-fun-with-shaders" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>This add-on works great with ReShade shaders too! In fact, using a LUT prior to the render and saving the result in EXR can reduce colour banding, thanks to the stacking process. </p>
<hr />
<h2 id="processing-saved-exrs">Processing saved EXRs<a class="headerlink" href="#processing-saved-exrs" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>The saved EXRs require gamma correction to look as they did on your screen, instead of a washed-out image. This is easiest done with Adobe Photoshop, however any editor that can open EXRs and perform gamma correction would also work.</p>
<p>The EXRs are saved in linear gamma (gamma 1.0), so a simple gamma correction of 0.454545... (repeating) returns an image at the proper sRGB gamma of 2.2.</p>
<p>This can be done with <em>Image</em> &gt; <em>Adjustments</em> &gt; <em>Exposure...</em> or with the Exposure adjustment layer in Photoshop.</p>
<p><img src="../../Images/MSADOF/MSADOF_Addon_EXR-Processing.jpg" alt="Aspect Ratio" class="shadowed autosize" width="1245" height="400" /></p>

                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">
&copy 2019-2022 FRAMED. All rights reserved.
                    </div>
                </footer>
            </div>
        </section>
    </div>
    <script src="../../js/jquery-2.1.1.min.js"></script>
    <script src="../../js/modernizr-2.8.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script src="../../js/theme.js"></script>
    <script src="../../js/comparisons.js"></script>

</body>
</html>
