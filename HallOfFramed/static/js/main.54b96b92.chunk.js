(this["webpackJsonpjim-framed"]=this["webpackJsonpjim-framed"]||[]).push([[0],{24:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),o=n.n(a),i=n(16),r=n.n(i),s=(n(24),n(7)),l=n.n(s),u=n(17),d=n(2),h=n(3),j=n(5),b=n.n(j),m=function(){return Object(c.jsxs)("div",{className:"sort-icon",children:[Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#fff",children:Object(c.jsx)("g",{children:Object(c.jsx)("path",{d:"M286.935,197.286L159.028,69.379c-3.613-3.617-7.895-5.424-12.847-5.424s-9.233,1.807-12.85,5.424L5.424,197.286\r C1.807,200.9,0,205.184,0,210.132s1.807,9.233,5.424,12.847c3.621,3.617,7.902,5.428,12.85,5.428h255.813\r c4.949,0,9.233-1.811,12.848-5.428c3.613-3.613,5.427-7.898,5.427-12.847S290.548,200.9,286.935,197.286z"})})}),Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#aaa",children:Object(c.jsx)("g",{children:Object(c.jsx)("path",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\r C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\r s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"})})})]})},f=function(){return Object(c.jsxs)("div",{className:"sort-icon",children:[Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#aaa",children:Object(c.jsx)("g",{children:Object(c.jsx)("path",{d:"M286.935,197.286L159.028,69.379c-3.613-3.617-7.895-5.424-12.847-5.424s-9.233,1.807-12.85,5.424L5.424,197.286\r C1.807,200.9,0,205.184,0,210.132s1.807,9.233,5.424,12.847c3.621,3.617,7.902,5.428,12.85,5.428h255.813\r c4.949,0,9.233-1.811,12.848-5.428c3.613-3.613,5.427-7.898,5.427-12.847S290.548,200.9,286.935,197.286z"})})}),Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#fff",children:Object(c.jsx)("g",{children:Object(c.jsx)("path",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\r C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\r s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"})})})]})},g=function(){return Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",viewBox:"0 0 2048 2048",fill:"#9A9A9A",children:[Object(c.jsx)("g",{children:Object(c.jsx)("g",{children:Object(c.jsx)("path",{d:"M892.3,688v242h539v247.2h-539v411.9H609.1v-1150h889.1V688H892.3z"})})}),Object(c.jsx)("path",{d:"M143.6,138.5v1760.9h1760.9V138.5H143.6z M1783.8,1778.7H264.2V259.2h1519.6V1778.7z"})]})},O=function(){return Object(c.jsxs)("svg",{viewBox:"0 0 80 80",width:"40",height:"30",fill:"#fff",children:[Object(c.jsx)("rect",{y:"15",width:"80",height:"10"}),Object(c.jsx)("rect",{y:"35",width:"80",height:"10"}),Object(c.jsx)("rect",{y:"55",width:"80",height:"10"})]})},v=function(){return Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",children:[Object(c.jsx)("polygon",{points:"68.284,40 165,40 165,0 0,0 0,165 40,165 40,68.284 177,205.284 205.284,177"}),Object(c.jsx)("polygon",{points:"205.284,335 177,306.716 40,443.716 40,347 0,347 0,512 165,512 165,472 68.284,472"}),Object(c.jsx)("polygon",{points:"347,0 347,40 443.716,40 306.716,177 335,205.284 472,68.284 472,165 512,165 512,0"}),Object(c.jsx)("polygon",{points:"472,347 472,443.716 335,306.716 306.716,335 443.716,472 347,472 347,512 512,512 512,347"})]})},x=function(){return Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(c.jsx)("path",{fill:"#fff",d:"M21 4.41L19.59 3 12 10.59 4.41 3 3 4.41 10.59 12 3 19.59 4.41 21 12 13.41 19.59 21 21 19.59 13.41 12 21 4.41z"})})},p=function(){return Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",children:[Object(c.jsx)("polygon",{points:"22.586,25.414 29.172,32 32,29.172 25.414,22.586 28,20 20,20 20,28"}),Object(c.jsx)("polygon",{points:"6.547,9.371 4,12 11.961,11.957 12,4 9.375,6.543 2.828,0 0,2.828"}),Object(c.jsx)("polygon",{points:"0,29.172 2.828,32 9.414,25.414 12,28 12,20 4,20 6.586,22.586"}),Object(c.jsx)("polygon",{points:"28.031,12 25.438,9.404 32,2.838 29.164,0 22.598,6.566 20,3.971 20,12"})]})},w=function(){return Object(c.jsx)("svg",{viewBox:"0 0 24 24",children:Object(c.jsx)("path",{d:"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})})},y=function(){return Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 476.213 476.213",children:Object(c.jsx)("polygon",{points:"345.606,107.5 324.394,128.713 418.787,223.107 0,223.107 0,253.107 418.787,253.107 324.394,347.5 \r 345.606,368.713 476.213,238.106 "})})},N=Object(a.createContext)({show:!1,component:null,className:"",withClose:!0}),k=Object(a.createContext)({imageData:[],authorData:[]}),C=function(e){var t=e.show,n=e.className,i=e.component,r=e.onClose,s=t?"is-visible":void 0,l=Object(a.useContext)(N),u=l.modal,d=l.setModal,h=o.a.useCallback((function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement?document.exitFullscreen():r?r():d({className:"",component:null,show:!1})}),[r,d]);return Object(c.jsxs)("div",{className:b()("framed-modal",n,s),children:[Object(c.jsx)("div",{className:"framed-modal-overlay",onClick:h,children:Object(c.jsx)("div",{className:"framed-modal-content",onClick:function(e){e.stopPropagation()},children:i})}),u.withClose&&Object(c.jsx)("button",{className:"close",onClick:h,children:Object(c.jsx)(x,{})})]})},S=function(){var e=document.documentElement.clientWidth||document.body.clientWidth,t=Object(a.useState)(e),n=Object(d.a)(t,2),c=n[0],o=n[1],i=function(){var e=document.documentElement.clientWidth||document.body.clientWidth;o(e)};return Object(a.useEffect)((function(){var e;window.setTimeout(i,1e3);var t=function(){var t=document.documentElement.clientWidth||document.body.clientWidth;clearTimeout(e),e=setTimeout((function(){return o(t)}),50)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),{width:c}},E=820,F=function(){if("undefined"!==typeof document.fullscreenElement)return"fullscreenElement";if("undefined"!==typeof document.mozFullScreenElement)return"mozFullScreenElement";if("undefined"!==typeof document.msFullscreenElement)return"msFullscreenElement";if("undefined"!==typeof document.webkitFullscreenElement)return"webkitFullscreenElement";throw new Error("fullscreenElement is not supported by this browser")},I=function(e){var t=e.className,n=e.images,a=e.rowTargetHeight,o=void 0===a?400:a,i=e.borderOffset,r=void 0===i?5:i,s=e.onClick,l=S().width-2*r,u=function(e,t){t=t||1;var n=e.height-t;return e.width=e.width*(n/e.height),e.height=n,e},d=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t+=(e.length-1)*r},h=function(){for(var e=0,t=0,c=0,a=[],i=function(){for(var e=[],t=0;t<n.length;t++){var c=parseInt(n[t].width),a=parseInt(n[t].height);c*=o/a;var i={id:n[t].id,author:n[t].author,authorName:n[t].authorName,authorsAvatarUrl:n[t].authorsAvatarUrl,data:n[t].date,gameName:n[t].gameName,score:n[t].score,fullWidth:n[t].width,fullHeight:n[t].height,shotUrl:n[t].shotUrl,spoiler:n[t].spoiler,thumbnailUrl:n[t].thumbnailUrl,width:c,height:o};e.push(i)}return e}();i[c];)t>=l&&(e++,t=0),a[e]||(a[e]=[]),a[e].push(i[c]),t+=i[c].width,c++;return a},j=function(e){for(var t=0;t<e.length;t++)(n=e[t]).width=parseInt(n.width),n.height=parseInt(n.height);var n;return e},b=function(e){for(;d(e)>l;)for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e};return function(){for(var e=h(),n=0;n<e.length;n++){e[n]=b(e[n]),e[n]=j(e[n]);var a=l-d(e[n]),o=e[n].length;if(o>1&&a<10){for(var i=a/o,u=0;u<e[n].length;u++)e[n][u].width+=i;e[n]=j(e[n]),e[n][e[n].length-1].width+=l-d(e[n])}}return function(e){return Object(c.jsx)("div",{className:t,style:{paddingLeft:r,paddingTop:50+r},children:e.map((function(e,t){return Object(c.jsx)("div",{className:"image-row",children:e.map((function(e,t){return Object(c.jsxs)("div",{className:"thumbnail-container",style:{marginRight:r,marginBottom:r},children:[Object(c.jsx)("img",{alt:e.gameName,src:e.thumbnailUrl,style:{width:Math.ceil(e.width),height:e.height,cursor:"pointer"},onClick:function(){return s(e)}},t),e.spoiler&&Object(c.jsx)("div",{className:"spoiler",onClick:function(e){e.target.style.display="none"},children:Object(c.jsx)("span",{children:"SPOILER"})}),Object(c.jsxs)("div",{className:"image-info",children:[Object(c.jsx)("span",{className:"by",children:"by"})," ",Object(c.jsx)("span",{className:"author",children:e.authorName})]})]},"thumbnail-container-".concat(e.id))}))},t)}))})}(e)}()},L=function(){return Object(c.jsxs)("div",{className:"about-modal-content",children:[Object(c.jsx)("h2",{children:"About the Hall of Framed"}),Object(c.jsxs)("p",{children:["The ",Object(c.jsx)("a",{href:"https://framedsc.github.io/",children:"Framed Screenshot Community"})," Discord server first started in 2019 as a place to discuss and collaborate in the space of video game screenshots, and has since become so full of incredible shots that we\u2019ve run out of room to highlight them all. To fix that we created a Discord bot that curates the most popular shots within the server, displaying them within a dedicated channel that filters to this site. Posted shots can be voted on in the Discord server, and our clever bot will publish entries into the Hall of Framed based on popularity, which has allowed us to put the power to curate the best shots into the hands of our community, helping to showcase the depth and variety of creativity within this space."]}),Object(c.jsx)("p",{children:"We hope that this can serve as a showcase for what talented screenshotters can achieve. Maybe you'll find it useful as inspiration, or as a nice source of background images for your PC or phone."}),Object(c.jsx)("h4",{children:"Gallery Controls"}),Object(c.jsx)("p",{children:"This gallery can be navigated with both mouse and keyboard shortcuts. You can use the left & right arrow keys to cycle between shots, while the F key will open the currently selected image in fullscreen and the ESC key can be used to close the viewer. If you\u2019re browsing on a mobile or touch device, you can also use swipe motions to navigate the images."}),Object(c.jsx)("h4",{children:"Contact"}),Object(c.jsx)("p",{children:"For general queries, or if you want to get an invite to the Discord server you can contact either Jim2Point0 or Otis_Inf on the below links"}),Object(c.jsxs)("p",{children:["Tweet @Jim2Point0 on ",Object(c.jsx)("a",{href:"https://twitter.com/jim2point0",children:"Twitter"})]}),Object(c.jsxs)("p",{children:["Tweet @FransBouma on ",Object(c.jsx)("a",{href:"https://twitter.com/FransBouma",children:"Twitter"}),Object(c.jsx)("br",{}),"Or contact him through his ",Object(c.jsx)("a",{href:"https://fransbouma.com/contact",children:"Website"})]})]})},B=function(e){var t,n,o=e.className,i=e.options,r=e.reverseSort,s=e.updateSort,l=e.updateType,u=e.updateSearch,h=Object(a.useState)(i[0]),j=Object(d.a)(h,2),v=j[0],x=j[1],p=Object(a.useState)("All"),y=Object(d.a)(p,2),k=y[0],C=y[1],F=Object(a.useState)(""),I=Object(d.a)(F,2),B=I[0],M=I[1],T=Object(a.useContext)(N).setModal,z=r?Object(c.jsx)(m,{}):Object(c.jsx)(f,{}),P=Object(c.jsx)("div",{className:"search",children:Object(c.jsx)("input",{type:"search",name:"search",className:"search-input",value:B,onChange:function(e){M(e.target.value),u(e.target.value.toLowerCase())},placeholder:"Search"})}),D=Object(c.jsx)("ul",{className:"filters",children:i.map((function(e,t){var n=v.key===e.key,a=n?"is-active":void 0;return Object(c.jsx)("li",{children:Object(c.jsxs)("button",{id:e.label,className:b()("filter",a),onClick:function(){return x(t=e),void s(t);var t},children:[e.label,n&&z]},e.label)},t)}))}),A=Object(c.jsx)("div",{className:"image-types",children:["All","Wide","Portrait"].map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{id:"".concat(e,"-label"),onChange:function(){return C(t=e),void l(t);var t},checked:k===e,type:"radio",value:e,name:"type"},"".concat(e,"-input")),Object(c.jsx)("label",{htmlFor:"".concat(e,"-label"),children:e},"".concat(e,"-label"))]})}))}),H=Object(c.jsx)("button",{className:"about-icon",onClick:function(){T({show:!0,component:Object(c.jsx)(L,{}),className:"about-window",withClose:!0})},children:Object(c.jsx)(w,{})}),W=Object(a.useState)(!1),U=Object(d.a)(W,2),R=U[0],V=U[1],q=S().width<=E,G=q?"image-nav--mobile":"image-nav--desktop",J=Object(a.useRef)(null);return t=J,n=function(){V(!1)},Object(a.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&n()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n]),Object(a.useEffect)((function(){q||V(!1)}),[q]),Object(c.jsxs)("div",{className:"image-nav ".concat(G," ").concat(o),children:[Object(c.jsx)("div",{className:"framed-icon",children:Object(c.jsx)(g,{})}),!q&&Object(c.jsxs)(c.Fragment,{children:[D,A,P,H]}),q&&Object(c.jsxs)("div",{className:"mobile-menu",ref:J,children:[Object(c.jsx)("button",{className:"menu-button",onClick:function(){return V((function(e){return!e}))},children:Object(c.jsx)(O,{})}),R&&Object(c.jsx)("div",{className:"mobile-menu-content-mask",children:Object(c.jsxs)("div",{className:"mobile-menu-content",children:[P,D,A,H]})})]})]})},M=n(18),T=function(e){var t=e.show,n=void 0!==t&&t,a=e.className,o=e.modifier,i=void 0===o?"":o,r="framed-spinner",s=Object(c.jsxs)("div",{className:"".concat(r,"-svg-wrapper"),children:[Object(c.jsx)("svg",{className:"".concat(r,"-svg-back"),viewBox:"0 0 200 200",children:Object(c.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none"})}),Object(c.jsx)("svg",{className:"".concat(r,"-svg-segment"),viewBox:"0 0 200 200",children:Object(c.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none"})})]}),l=Object(c.jsx)("div",{className:b()(r,"".concat(r,"--").concat(i),a),children:s});return n?function(){var e=!!i&&"global";return Object(c.jsx)("div",{className:"".concat(r,"-container ").concat(e),children:l})}():null},z=function(e,t){switch(t.type){case"initialize":return Object(h.a)(Object(h.a)({},e),{},{initialized:!0});case"close":return{initialized:!1,loadedState:!1,showImage:!1};case"loadImage":return{initialized:!0,loadedState:!0,showImage:!0};case"changeImage":return Object(h.a)(Object(h.a)({},e),{},{loadedState:!1});case"showGlobalSpinner":return Object(h.a)(Object(h.a)({},e),{},{initialized:!1,showImage:!1});case"expandSocials":return Object(h.a)(Object(h.a)({},e),{},{authorExpanded:!0});case"closeSocials":return Object(h.a)(Object(h.a)({},e),{},{authorExpanded:!1});default:return e}},P=function(e){var t,n,i,r=e.image,s=void 0===r?{}:r,l=e.show,u=e.onClose,j=e.data,m=e.onPrev,f=e.onNext,g=e.setBgImage,O=Object(a.useReducer)(z,{authorExpanded:!1,initialized:!1,loadedState:!1,showImage:!1}),w=Object(d.a)(O,2),C=w[0],S=C.authorExpanded,E=C.initialized,I=C.loadedState,L=C.showImage,B=w[1],P=Object(a.useContext)(N),D=P.modal,A=(P.setModal,Object(a.useContext)(k).authorData),H=o.a.useRef(null);try{var W=function(e){var t=Object(a.useState)(null!=document[F()]),n=Object(d.a)(t,2),c=n[0],o=n[1];return Object(a.useLayoutEffect)((function(){return document.onfullscreenchange=function(){return o(null!=document[F()])},function(){return document.onfullscreenchange=void 0}})),[c,function(){null!=e.current&&e.current.requestFullscreen().then((function(){o(null!=document[F()])})).catch((function(){o(!1)}))}]}(H),U=Object(d.a)(W,2);t=U[0],n=U[1]}catch(ce){i="Fullscreen not supported",t=!1,n=void 0}var R=l?"is-visible":void 0,V=0===j.findIndex((function(e){return e.id===s.id}))||!I,q=j.findIndex((function(e){return e.id===s.id}))===j.length-1||!I,G=E?"":"global",J=t?"fullscreen":void 0,_=D.show?"blur":void 0,X=L?"loaded":"hidden",Y=D.show?"hidden":"visible",Z=o.a.useCallback((function(e){null===e||void 0===e||e.stopPropagation(),B({type:"changeImage"}),m()}),[m]),K=o.a.useCallback((function(e){null===e||void 0===e||e.stopPropagation(),B({type:"changeImage"}),f()}),[f]),Q=o.a.useCallback((function(){t?document.exitFullscreen():(B({type:"close"}),u())}),[t,u]),$=o.a.useCallback((function(e){var c=e.key;if(!l)return!1;switch(c){case"ArrowRight":return!q&&K(e);case"ArrowLeft":return!V&&Z(e);case"Escape":return!t&&!D.show&&Q();case"f":return!i&&n();default:return!1}}),[D,t,Q,K,Z,q,V,n,i,l]);Object(a.useEffect)((function(){return window.addEventListener("keyup",$),function(){window.removeEventListener("keyup",$)}}),[E,$]);var ee=Object(M.useSwipeable)(Object(h.a)({onSwipedLeft:function(){return!q&&(B({type:"showGlobalSpinner"}),K())},onSwipedRight:function(){return!V&&(B({type:"showGlobalSpinner"}),Z())},onSwiping:function(e){"Right"===e.dir&&!V||"Left"===e.dir&&!q?H.current.style.left="".concat(e.deltaX,"px"):H.current.style.left="0px"},onSwiped:function(){H.current.style.left="0px"}},{delta:10,preventDefaultTouchmoveEvent:!0,trackTouch:!0,trackMouse:!1,rotationAngle:0})),te=s&&s.authorName&&function(e){var t=A.find((function(t){return e===t.authorNick}));return["flickr","twitter","instagram","steam","othersocials"].some((function(e){return t[e].length}))}(s.authorName),ne=te?"clickable":void 0;return Object(c.jsxs)("div",{className:b()("image-viewer","framed-modal",R),onClick:Q,children:[Object(c.jsxs)("div",{className:b()("viewer-nav",Y),children:[Object(c.jsx)("button",{className:"viewer-nav-button left",disabled:V,onClick:Z,children:Object(c.jsx)(y,{})}),Object(c.jsx)("button",{className:"viewer-nav-button right",disabled:q,onClick:K,children:Object(c.jsx)(y,{})})]}),Object(c.jsxs)("div",{ref:H,className:b()("image-viewer-content",J,_),children:[s&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("img",Object(h.a)({alt:s.gameName,src:s.shotUrl,onClick:function(e){e.stopPropagation()},onLoad:function(){B({type:"loadImage"}),g(s)},className:X},ee)),E&&!t&&Object(c.jsxs)("div",{className:S?"shot-info expanded":"shot-info",onClick:function(e){e.stopPropagation()},children:[Object(c.jsxs)("div",{className:b()("info",ne),onClick:S?function(){return B({type:"closeSocials"})}:function(){return B({type:"expandSocials"})},children:[Object(c.jsxs)("div",{className:te&&"flex center",children:[Object(c.jsx)("span",{className:"by",children:"by "}),Object(c.jsx)("span",{className:te?"author flex center":"author",children:s.authorName})]}),Object(c.jsx)("span",{className:"title",children:s.gameName})]}),Object(c.jsx)("div",{className:"image-viewer-controls",children:!t&&!i&&Object(c.jsx)("button",{className:"fullscreen-button",onClick:n,children:Object(c.jsx)(v,{})})})]}),t?Object(c.jsx)("button",{className:"close",onClick:function(){return document.exitFullscreen()},children:Object(c.jsx)(p,{})}):Object(c.jsx)("button",{className:"close",onClick:Q,children:Object(c.jsx)(x,{})})]}),Object(c.jsx)(T,{modifier:G,show:!I})]})]})},D=function(e){var t=e.setBgImage,n=[{label:"Date",key:"date"},{label:"Popularity",key:"score"}],o=Object(a.useState)([]),i=Object(d.a)(o,2),r=i[0],s=i[1],l=Object(a.useState)(n[0]),u=Object(d.a)(l,2),j=u[0],b=u[1],m=Object(a.useState)("all"),f=Object(d.a)(m,2),g=f[0],O=f[1],v=Object(a.useState)(""),x=Object(d.a)(v,2),p=x[0],w=x[1],y=Object(a.useState)(!1),S=Object(d.a)(y,2),E=S[0],F=S[1],L=Object(a.useState)({}),M=Object(d.a)(L,2),T=M[0],z=M[1],D=Object(a.useState)(!1),A=Object(d.a)(D,2),H=A[0],W=A[1],U=Object(a.useState)({show:!1,component:null,className:"",withClose:!0}),R=Object(d.a)(U,2),V=R[0],q=R[1],G=(Object(a.useContext)(k)||[]).imageData,J=function(){"author-social-content"!==V.className&&(z({}),F(!1)),q(Object(h.a)(Object(h.a)({},V),{},{className:"",component:null,show:!1}))},_=Object(a.useCallback)((function(e){return(null===p||void 0===p?void 0:p.length)<3?e:e.filter((function(e){return Object.keys(e).reduce((function(t,n){return t||e[n].toString().toLowerCase().includes(p.toLowerCase())}),!1)}))}),[p]),X=Object(a.useCallback)((function(e){var t=e,n=j.key,c=function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0};return H&&(c=function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}),t=e.sort(c),"Wide"===g?t=t.filter((function(e){return e.width>e.height})):"Portrait"===g&&(t=t.filter((function(e){return e.width<=e.height}))),_(t)}),[H,_,j,g]);Object(a.useEffect)((function(){if(G.length){var e=X(G.slice());s(e)}}),[G,j,g,p,H,X,E]);var Y=document.querySelector(".image-grid");return Object(c.jsx)("div",{style:{margin:"0 auto"},className:"home",children:Object(c.jsxs)(N.Provider,{value:{modal:V,setModal:q},children:[Object(c.jsx)(B,{className:E||V.show?"hidden":"",options:n,reverseSort:H,updateSort:function(e){e.key===j.key?W((function(e){return!e})):(W(!1),b(e)),window.scrollTo({top:0,behavior:"smooth"})},updateType:function(e){O(e),window.scrollTo({top:0,behavior:"smooth"})},updateSearch:function(e){w(e)}}),G&&Y&&Object(c.jsx)(I,{className:"image-rows",images:r,rowTargetHeight:400,onClick:function(e){z(e),F(!0)},borderOffset:7}),p.length>3&&!r.length?Object(c.jsx)("div",{className:"no-search-results",children:"There are no images matching your search criteria"}):null,Object(c.jsx)(P,{image:T,show:E,onClose:J,data:r,onPrev:function(){var e=r.findIndex((function(e){return e.id===T.id}));e-1>=0&&z(r[e-1])},onNext:function(){var e=r.findIndex((function(e){return e.id===T.id}));e+1<=r.length&&z(r[e+1])},setBgImage:t}),Object(c.jsx)(C,{onClose:J,className:V.className,show:V.show,component:V.component})]})})},A=n(26);n(45),n(46),n(47),n(48);function H(e){var t=[];return Object.entries(e._default).forEach((function(e){var n=e[0],c=e[1];t.push(Object(h.a)({id:n},c))})),t}var W=function(){var e=Object(a.useState)({imageData:[],authorData:[]}),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!1),r=Object(d.a)(i,2),s=r[0],h=r[1],j=Object(a.useState)(null),b=Object(d.a)(j,2),m=b[0],f=b[1],g=Object(a.useCallback)((function(e){var t=e.thumbnailUrl;m.style.backgroundImage="url('".concat(t,"')")}),[m]),O=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,c,a,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,A.get("".concat("https://raw.githubusercontent.com/originalnicodrgitbot/hall-of-framed-db/main/shotsdb.json"));case 3:return t=e.sent,e.next=6,A.get("".concat("https://raw.githubusercontent.com/originalnicodrgitbot/hall-of-framed-db/main/authorsdb.json"));case 6:for(n=e.sent,c=H(t.data),a=H(n.data),console.log(c,a),i=function(e){var t,n=null===(t=a.find((function(t){return t.authorid===c[e].author})))||void 0===t?void 0:t.authorNick;n&&(c[e].authorName=n)},r=0;r<c.length;r++)i(r);o({imageData:c,authorData:a});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=n.imageData;if(!s&&O(),e.length&&!m&&f(document.querySelector(".bg-blur")),e.length&&m){var t=Math.floor(Math.random()*Math.floor(e.length-1));g(e[t])}}),[m,n,s,g]),Object(c.jsx)("div",{className:"image-grid",children:n.imageData&&n.authorData&&Object(c.jsx)(k.Provider,{value:n,children:Object(c.jsx)(D,{setBgImage:g})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};r.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(W,{})}),document.getElementById("root")),U()}},[[49,1,2]]]);
//# sourceMappingURL=main.54b96b92.chunk.js.map